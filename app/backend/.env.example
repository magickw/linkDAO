# LinkDAO Backend Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# ============================================
# CRITICAL SECURITY SETTINGS
# ============================================

# JWT Secret - Generate with: openssl rand -base64 64
JWT_SECRET=your_jwt_secret_here_minimum_32_characters

# API Secret - Generate with: openssl rand -base64 32
API_SECRET=your_api_secret_here

# CSRF Secret - Generate with: openssl rand -base64 32
CSRF_SECRET=your_csrf_secret_here

# Session Secret - Generate with: openssl rand -base64 32
SESSION_SECRET=your_session_secret_here

# Rate Limit Secret - Generate with: openssl rand -base64 64
RATE_LIMIT_SECRET=your_rate_limit_secret_here

# Webhook Secret - Generate with: openssl rand -base64 32
WEBHOOK_SECRET=your_webhook_secret_here

# Token Secret - Generate with: openssl rand -hex 32
TOKEN_SECRET=your_token_secret_here

# Master Encryption Key - Generate with: openssl rand -hex 32
MASTER_ENCRYPTION_KEY=your_master_encryption_key_here

# Encryption Password - Generate with: openssl rand -hex 32
ENCRYPTION_PASSWORD=your_encryption_password_here

# Encryption Salt - Generate with: openssl rand -hex 32
ENCRYPTION_SALT=your_encryption_salt_here

# ============================================
# DATABASE
# ============================================

DATABASE_URL=postgresql://username:password@host:port/database?sslmode=require
DB_POOL_MIN=5
DB_POOL_MAX=25
DB_POOL_IDLE_TIMEOUT=30000

# ============================================
# REDIS
# ============================================

REDIS_ENABLED=true
REDIS_URL=redis://username:password@host:port
REDIS_DB=0
REDIS_KEY_PREFIX=marketplace:
REDIS_POOL_MIN=5
REDIS_POOL_MAX=20
REDIS_MAX_RETRIES_PER_REQUEST=3
REDIS_RETRY_DELAY_ON_FAILOVER=100
REDIS_ACQUIRE_TIMEOUT=10000
REDIS_MAX_MEMORY=256mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# ============================================
# APPLICATION
# ============================================

NODE_ENV=production
BACKEND_URL=https://api.yourdomain.com
BACKEND_API_BASE_URL=https://api.yourdomain.com
FRONTEND_URL=https://www.yourdomain.com,https://yourdomain.com
FROM_EMAIL=noreply@yourdomain.com

# ============================================
# BLOCKCHAIN
# ============================================

RPC_URL=https://mainnet.base.org
BASE_RPC_URL=https://base-mainnet.infura.io/v3/YOUR_INFURA_KEY
WEB3_PROVIDER_URL=https://mainnet.infura.io/v3/YOUR_INFURA_KEY

# Smart Contract Addresses (update with your deployed contracts)
TOKEN_ADDRESS=0x0000000000000000000000000000000000000000
PROFILE_REGISTRY_ADDRESS=0x0000000000000000000000000000000000000000
GOVERNANCE_ADDRESS=0x0000000000000000000000000000000000000000
FOLLOW_MODULE_ADDRESS=0x0000000000000000000000000000000000000000
PAYMENT_ROUTER_ADDRESS=0x0000000000000000000000000000000000000000

# USDC Addresses by Chain
USDC_ADDRESS_BASE=0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913
USDC_ADDRESS_ETH=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48
USDC_ADDRESS_POLYGON=0x3c499c542cEF5E3811e1192ce70d8cc03d5c3359

# Uniswap Addresses
UNISWAP_ROUTER_ADDRESS=0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D
UNISWAP_FACTORY_ADDRESS=0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f
UNISWAP_QUOTER_ADDRESS=0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F

# ============================================
# THIRD-PARTY SERVICES
# ============================================

# OpenAI
OPENAI_API_KEY=sk-proj-your_openai_api_key_here

# Pinata (IPFS)
PINATA_API_KEY=your_pinata_api_key
PINATA_API_KEY_SECRET=your_pinata_secret
PINATA_JWT=your_pinata_jwt_token
IPFS_GATEWAY=https://gateway.pinata.cloud
IPFS_GATEWAY_URL=https://gateway.pinata.cloud/ipfs/
IPFS_HOST=api.pinata.cloud
IPFS_PORT=443
IPFS_PROTOCOL=https

# Cloudinary
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# Stripe
STRIPE_ENABLED=true
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Coinbase
COINBASE_API_KEY=your_coinbase_api_key
COINBASE_API_SECRET=your_coinbase_api_secret

# CoinMarketCap
COINMARKETCAP_API_KEY=your_coinmarketcap_api_key

# Resend (Email)
RESEND_API_KEY=your_resend_api_key

# Pinecone (Vector DB)
PINECONE_API_KEY=your_pinecone_api_key
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=linkdao

# New Relic (Monitoring)
NEW_RELIC_LICENSE_KEY=your_new_relic_key

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn

# ============================================
# SOCIAL MEDIA OAUTH
# ============================================

# Twitter
TWITTER_CLIENT_ID=your_twitter_client_id
TWITTER_CLIENT_SECRET=your_twitter_client_secret
TWITTER_CALLBACK_URL=https://api.yourdomain.com/api/social-media/callback/twitter

# Facebook
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret
FACEBOOK_CALLBACK_URL=https://api.yourdomain.com/api/social-media/callback/facebook

# LinkedIn
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret
LINKEDIN_CALLBACK_URL=https://api.yourdomain.com/api/social-media/callback/linkedin
LINKEDIN_SCOPES=openid profile email w_member_social

# Threads
THREADS_APP_ID=your_threads_app_id
THREADS_APP_SECRET=your_threads_app_secret
THREADS_CALLBACK_URL=https://api.yourdomain.com/api/social-media/callback/threads

# ============================================
# SECURITY & RATE LIMITING
# ============================================

RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# ============================================
# FILE UPLOAD
# ============================================

MAX_IMAGE_SIZE=10485760
MAX_PROFILE_IMAGE_SIZE=5242880
MAX_IMAGES_PER_LISTING=10
MAX_IMAGES_PER_USER=100
SUPPORTED_FORMATS=jpeg,png,webp,gif
THUMBNAIL_SIZES=150,300,600,1200
IMAGE_QUALITY=85
IMAGE_COMPRESSION_ENABLED=true
IMAGE_CLEANUP_ENABLED=true

# ============================================
# FEATURE FLAGS
# ============================================

ENABLE_WEBSOCKETS=true
ENABLE_BACKGROUND_SERVICES=false
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_PROFILING=false
ENABLE_MEMORY_MONITORING=true
ENABLE_COMPREHENSIVE_MONITORING=true
CRYPTO_PAYMENTS_ENABLED=true
LDAO_DEX_INTEGRATION_ENABLED=true

# ============================================
# PERFORMANCE
# ============================================

NODE_OPTIONS="--max-old-space-size=3500"
MEMORY_LIMIT=2048
CLUSTER_ENABLED=false
CLUSTER_WORKERS=0
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# ============================================
# DEPLOYMENT
# ============================================

RENDER=true
RENDER_PRO=true
RENDER_SERVICE_TYPE=pro
RENDER_SERVICE_PLAN=standard

# ============================================
# SSL (if applicable)
# ============================================

SSL_ENABLED=false
SSL_PORT=443
SSL_CERT_PATH=/path/to/certificate.crt
SSL_KEY_PATH=/path/to/private.key
SSL_CA_PATH=/path/to/ca-bundle.crt
SSL_PASSPHRASE=your_ssl_passphrase

# ============================================
# LOAD BALANCING (if applicable)
# ============================================

LB_ENABLED=false
LB_ALGORITHM=round-robin
LB_SERVERS=localhost:10000:1,localhost:10001:1,localhost:10002:1
LB_STICKY_SESSIONS=false
LB_STICKY_COOKIE_NAME=lb-session
LB_STICKY_TTL=3600000
LB_HEALTH_CHECK_ENABLED=true
LB_HEALTH_CHECK_PATH=/health
LB_HEALTH_CHECK_INTERVAL=30000
LB_HEALTH_CHECK_TIMEOUT=5000
LB_HEALTH_CHECK_STATUS=200
LB_MAX_RETRIES=3
LB_RETRY_DELAY=1000
LB_FAILOVER_ENABLED=true

# ============================================
# LOGGING
# ============================================

LOG_LEVEL=info
LOG_FORMAT=json

# ============================================
# DATA RETENTION
# ============================================

RETENTION_DAYS=30
CLEANUP_INTERVAL_HOURS=24

# ============================================
# ADMIN
# ============================================

# Admin wallet address (lowercase)
ADMIN_ADDRESS=0x0000000000000000000000000000000000000000
NEXT_PUBLIC_ADMIN_ADDRESS=0x0000000000000000000000000000000000000000

# ============================================
# WEBSOCKET
# ============================================

NEXT_PUBLIC_WS_URL=wss://api.yourdomain.com

# ============================================
# FRONTEND (Next.js Public Variables)
# ============================================

NEXT_PUBLIC_AUTH_LOCK_TIMEOUT_HARDWARE=12000
NEXT_PUBLIC_AUTH_LOCK_TIMEOUT_SOFTWARE=5000
NEXT_PUBLIC_ENABLE_DEX=false
