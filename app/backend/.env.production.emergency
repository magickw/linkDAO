# EMERGENCY PRODUCTION CONFIGURATION - MINIMAL MEMORY USAGE
NODE_OPTIONS=--max-old-space-size=1200 --optimize-for-size --gc-interval=50
NODE_ENV=production

# Database Configuration (Emergency - Minimal connections)
DB_POOL_MAX=5
DB_POOL_MIN=2
DB_IDLE_TIMEOUT=10000
DB_CONNECTION_TIMEOUT=5000

# Redis Configuration (Emergency - Minimal memory)
REDIS_MAX_MEMORY=128mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# Performance Features (Disable to save memory)
DISABLE_ANALYTICS=true
DISABLE_BACKGROUND_JOBS=true
DISABLE_REAL_TIME_UPDATES=true

# Compression and Optimization (Minimal)
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=3

# Memory Monitoring Thresholds (Emergency)
MEMORY_WARNING_THRESHOLD=0.60
MEMORY_CRITICAL_THRESHOLD=0.75

# Cache Settings (Minimal)
ENABLE_RESPONSE_CACHE=false
CACHE_TTL=60

# Rate Limiting (Strict to reduce load)
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=50
RATE_LIMIT_API_MAX=100

# WebSocket Configuration (Minimal)
WS_MAX_CONNECTIONS=100
WS_HEARTBEAT_INTERVAL=60000

# File Upload Limits (Reduced)
MAX_FILE_SIZE=5mb
MAX_FILES_PER_REQUEST=2

# Emergency Mode Flags
EMERGENCY_MODE=true
MINIMAL_FEATURES=true
AGGRESSIVE_GC=true
EMERGENCY_CORS=true

# CORS Configuration (Emergency - Single origin)
CORS_ORIGIN=https://www.linkdao.io
ALLOWED_ORIGINS=https://www.linkdao.io,https://linkdao.io,https://api.linkdao.io

# Backend URL
BACKEND_URL=https://api.linkdao.io
FRONTEND_URL=https://www.linkdao.io